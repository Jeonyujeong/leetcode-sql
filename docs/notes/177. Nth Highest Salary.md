# LeetCode 177. Nth Highest Salary

ğŸ”— [ë¬¸ì œ ë§í¬](https://leetcode.com/problems/nth-highest-salary/)

## ğŸ“œ Problem Description
Write a solution to find the nth highest distinct salary from the Employee table. If there are less than n distinct salaries, return null.

## ğŸ’» SQL Solution
```sql
CREATE OR REPLACE FUNCTION NthHighestSalary(N INT) RETURNS TABLE (Salary INT) AS $$
BEGIN
  RETURN QUERY (
    -- Write your PostgreSQL query statement below.
    
    select max(e.salary) 
      from (SELECT e.salary
                , dense_rank() over(order by e.salary desc) as rank_n
                FROM Employee e) e
      where e.rank_n = N
  );
END;
$$ LANGUAGE plpgsql;
```

## ğŸ“ Explanation
- This problem is solved in a similar way to Problem 176.
- I used the `DENSE_RANK()` function to order salary and then select the N-th value.
- To handle the case when the N-th salary doesn't exist, I used the `MAX()` function to returns `NULL`
